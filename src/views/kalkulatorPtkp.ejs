<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description"
    content="Teach: Solusi cepat dan akurat untuk menghitung pajak PPh Pasal 21. Dapatkan panduan perpajakan lengkap.">
  <meta name="keywords" content="kalkulator pajak, PPh 21, perpajakan Indonesia, hitung pajak">
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Lobster&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" />
  <script src="https://cdn.jsdelivr.net/npm/heroicons@1.0.6/umd/heroicons.min.js"></script>
  <link rel="icon" href="img/icon.png" type="image/png">
  <title>Teach - Kalkulator Ter</title>
  <style>
    body {
      font-family: "Poppins", sans-serif;
    }

    .animate-slide-in {
      animation: slideIn 0.5s ease-out;
    }

    .animate-scale-in {
      animation: scaleIn 0.7s ease-out;
    }

    .animate-fade-in {
      animation: fadeIn 0.8s ease-out;
    }

    @keyframes slideIn {
      from {
        opacity: 0;
        transform: translateY(20px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes scaleIn {
      from {
        opacity: 0;
        transform: scale(0.8);
      }

      to {
        opacity: 1;
        transform: scale(1);
      }
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
      }

      to {
        opacity: 1;
      }
    }

    /* Custom style untuk input */
    input,
    select {
      transition: all 0.2s ease-in-out;
    }

    input:disabled,
    select:disabled {
      cursor: not-allowed;
    }

    /* Custom style untuk dropdown */
    .custom-select {
      position: relative;
      width: 100%;
      height: 3rem;
    }

    .custom-select-toggle {
      background-color: #fff;
      border: 2px solid #d1d5db;
      border-radius: 0.5rem;
      padding: 0.75rem 2.5rem 0.75rem 0.75rem;
      font-size: 1rem;
      line-height: 1.5;
      color: #374151;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='%235a3219' stroke-width='2'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' d='M19 9l-7 7-7-7' /%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 0.75rem center;
      background-size: 1.2em;
      width: 100%;
      height: 100%;
      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
      cursor: pointer;
      transition: all 0.3s ease-in-out;
    }

    .custom-select-toggle:hover {
      border-color: #7f5539;
      box-shadow: 0 0 0 3px rgba(127, 85, 57, 0.1);
    }

    .custom-select-toggle:focus {
      outline: none;
      border-color: #5a3219;
      box-shadow: 0 0 0 3px rgba(90, 50, 25, 0.2);
    }

    .custom-select-menu {
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      background-color: #fff;
      border: 2px solid #d1d5db;
      border-radius: 0.5rem;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      z-index: 10;
      margin-top: 0.25rem;
      max-height: 200px;
      overflow-y: auto;
      display: none;
    }

    .custom-select-menu.open {
      display: block;
    }

    .custom-select-item {
      padding: 0.5rem 0.75rem;
      font-size: 1rem;
      color: #374151;
      cursor: pointer;
      transition: all 0.2s ease-in-out;
    }

    .custom-select-item:hover {
      background-color: #f7f7f7;
      color: #5a3219;
    }

    .custom-select-item.selected {
      background-color: #5a3219;
      color: #fff;
    }
  </style>
</head>

<body class="bg-gray-100 font-sans">
  <div class="flex flex-col min-h-screen">
    <!-- Header -->
    <header class="bg-[#5a3219] text-white shadow-lg sticky top-0 z-20">
      <div class="max-w-7xl mx-auto flex justify-between items-center px-6 py-4">
        <!-- Logo + Brand -->
        <div class="flex items-center space-x-3">
          <img src="../img/logo.png" alt="Logo" width="150" height="50" class="object-contain animate-scale-in">
        </div>
        <!-- Navigation -->
        <nav class="hidden md:flex font-medium text-lg">
          <ul class="flex space-x-6 animate-scale-in">
            <li>
              <a href="/"
                class="flex items-center space-x-2 px-4 py-2 rounded-md hover:bg-[#7f5539] transition duration-300">
                <i class="fas fa-home"></i>
                <span>Home</span>
              </a>
            </li>
            <li>
              <a href="/kalkulator"
                class="flex items-center space-x-2 px-4 py-2 rounded-md hover:bg-[#7f5539] transition duration-300">
                <i class="fas fa-calculator"></i>
                <span>Kalkulator</span>
              </a>
            </li>
            <li>
              <a href="/info"
                class="flex items-center space-x-2 px-4 py-2 rounded-md hover:bg-[#7f5539] transition duration-300">
                <i class="fas fa-info-circle"></i>
                <span>Info</span>
              </a>
            </li>
          </ul>
        </nav>
      </div>
    </header>

    <!-- Main Content -->
    <main class="flex-grow">
      <div class="container mx-auto px-4 sm:px-6 py-6 sm:py-8 pb-24 sm:pb-24 md:pb-2">
        <h1 class="text-3xl sm:text-4xl font-bold text-center text-[#5a3219] mb-10 animate-slide-in">
          Kalkulator PPh Pasal 21 (PTKP)
        </h1>
        <form
          class="bg-white p-4 sm:p-6 rounded-3xl shadow-xl max-w-5xl mx-auto space-y-6 mb-1 sm:mb-24 md:mb-5 animate-slide-in">
          <!-- Informasi Pribadi -->
          <div class="border-2 border-gray-200 rounded-lg p-4 sm:p-6 space-y-4">
            <h2 class="text-lg font-semibold text-[#5a3219]">
              Informasi Pribadi
            </h2>
            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
              <!-- Status Kawin -->
              <div>
                <label for="status-kawin" class="block text-sm font-medium text-gray-700 mb-1">Status Kawin</label>
                <div class="custom-select">
                  <input type="hidden" id="status-kawin" name="status-kawin" value="TK">
                  <div class="custom-select-toggle" data-toggle="status-kawin">TK (Tidak Kawin)</div>
                  <div class="custom-select-menu" id="status-kawin-menu">
                    <div class="custom-select-item" data-value="TK">TK (Tidak Kawin)</div>
                    <div class="custom-select-item" data-value="K">K (Kawin)</div>
                  </div>
                </div>
              </div>

              <!-- Tanggungan -->
              <div>
                <label for="tanggungan" class="block text-sm font-medium text-gray-700 mb-1">Tanggungan</label>
                <div class="custom-select">
                  <input type="hidden" id="tanggungan" name="tanggungan" value="0">
                  <div class="custom-select-toggle" data-toggle="tanggungan">0</div>
                  <div class="custom-select-menu" id="tanggungan-menu">
                    <div class="custom-select-item" data-value="0">0</div>
                    <div class="custom-select-item" data-value="1">1</div>
                    <div class="custom-select-item" data-value="2">2</div>
                    <div class="custom-select-item" data-value="3">3</div>
                  </div>
                </div>
              </div>

              <!-- Status NPWP -->
              <div>
                <label for="status-npwp" class="block text-sm font-medium text-gray-700 mb-1">Status NPWP</label>
                <div class="custom-select">
                  <input type="hidden" id="status-npwp" name="status-npwp" value="Punya">
                  <div class="custom-select-toggle" data-toggle="status-npwp">Punya</div>
                  <div class="custom-select-menu" id="status-npwp-menu">
                    <div class="custom-select-item" data-value="Punya">Punya</div>
                    <div class="custom-select-item" data-value="Tidak">Tidak Punya</div>
                  </div>
                </div>
              </div>

              <!-- Masa Penghasilan -->
              <div>
                <label for="masa-penghasilan-awal" class="block text-sm font-medium text-gray-700 mb-1">Masa
                  Penghasilan</label>
                <div class="flex items-center gap-2">
                  <div class="custom-select">
                    <input type="hidden" id="masa-penghasilan-awal" name="masa-penghasilan-awal" value="Januari">
                    <div class="custom-select-toggle" data-toggle="masa-penghasilan-awal">Januari</div>
                    <div class="custom-select-menu" id="masa-penghasilan-awal-menu">
                      <div class="custom-select-item" data-value="Januari">Januari</div>
                      <div class="custom-select-item" data-value="Februari">Februari</div>
                      <div class="custom-select-item" data-value="Maret">Maret</div>
                      <div class="custom-select-item" data-value="April">April</div>
                      <div class="custom-select-item" data-value="Mei">Mei</div>
                      <div class="custom-select-item" data-value="Juni">Juni</div>
                      <div class="custom-select-item" data-value="Juli">Juli</div>
                      <div class="custom-select-item" data-value="Agustus">Agustus</div>
                      <div class="custom-select-item" data-value="September">September</div>
                      <div class="custom-select-item" data-value="Oktober">Oktober</div>
                      <div class="custom-select-item" data-value="November">November</div>
                      <div class="custom-select-item" data-value="Desember">Desember</div>
                    </div>
                  </div>
                  <span class="text-gray-700 font-medium">-</span>
                  <input type="text" id="masa-penghasilan-akhir" name="masa-penghasilan-akhir" value="Desember" disabled
                    class="block w-full h-12 px-3 rounded-lg border-2 border-gray-300 bg-gray-100 text-gray-500 text-base cursor-not-allowed" />
                </div>
              </div>
            </div>

            <!-- Penghasilan -->
            <div class="border-2 border-gray-200 rounded-lg p-4 sm:p-6 space-y-4">
              <h2 class="text-lg font-semibold text-[#5a3219]">A. Penghasilan</h2>
              <div class="grid grid-cols-1 gap-4">
                <div>
                  <label for="gaji" class="block text-sm font-medium text-gray-700 mb-1">Gaji/Pensiun atau
                    THT/JHT</label>
                  <input type="text" id="gaji" name="gaji"
                    class="block w-full h-12 px-3 rounded-lg border-2 border-gray-300 shadow-sm focus:border-[#5a3219] focus:ring-2 focus:ring-[#5a3219] text-base"
                    placeholder="Masukkan jumlah" />
                </div>
                <div>
                  <label for="tunjangan-pph" class="block text-sm font-medium text-gray-700 mb-1">Tunjangan PPh</label>
                  <input type="text" id="tunjangan-pph" name="tunjangan-pph"
                    class="block w-full h-12 px-3 rounded-lg border-2 border-gray-300 shadow-sm focus:border-[#5a3219] focus:ring-2 focus:ring-[#5a3219] text-base"
                    placeholder="Masukkan jumlah" />
                </div>
                <div>
                  <label for="tunjangan-lain" class="block text-sm font-medium text-gray-700 mb-1">Tunjangan Lainnya,
                    Uang
                    Lembur, dsb</label>
                  <input type="text" id="tunjangan-lain" name="tunjangan-lain"
                    class="block w-full h-12 px-3 rounded-lg border-2 border-gray-300 shadow-sm focus:border-[#5a3219] focus:ring-2 focus:ring-[#5a3219] text-base"
                    placeholder="Masukkan jumlah" />
                </div>
                <div>
                  <label for="honorarium" class="block text-sm font-medium text-gray-700 mb-1">Honorarium dan Imbalan
                    Lainnya</label>
                  <input type="text" id="honorarium" name="honorarium"
                    class="block w-full h-12 px-3 rounded-lg border-2 border-gray-300 shadow-sm focus:border-[#5a3219] focus:ring-2 focus:ring-[#5a3219] text-base"
                    placeholder="Masukkan jumlah" />
                </div>
                <div>
                  <label for="premi-asuransi" class="block text-sm font-medium text-gray-700 mb-1">Premi Asuransi yang
                    Dibayar Pemberi Kerja</label>
                  <input type="text" id="premi-asuransi" name="premi-asuransi"
                    class="block w-full h-12 px-3 rounded-lg border-2 border-gray-300 shadow-sm focus:border-[#5a3219] focus:ring-2 focus:ring-[#5a3219] text-base"
                    placeholder="Masukkan jumlah" />
                </div>
                <div>
                  <label for="natura" class="block text-sm font-medium text-gray-700 mb-1">Natura dan Kenikmatan
                    Lainnya</label>
                  <input type="text" id="natura" name="natura"
                    class="block w-full h-12 px-3 rounded-lg border-2 border-gray-300 shadow-sm focus:border-[#5a3219] focus:ring-2 focus:ring-[#5a3219] text-base"
                    placeholder="Masukkan jumlah" />
                </div>
                <div>
                  <label for="bonus" class="block text-sm font-medium text-gray-700 mb-1">Tantiem, Bonus, Gratifikasi,
                    Jasa Produksi, THR</label>
                  <input type="text" id="bonus" name="bonus"
                    class="block w-full h-12 px-3 rounded-lg border-2 border-gray-300 shadow-sm focus:border-[#5a3219] focus:ring-2 focus:ring-[#5a3219] text-base"
                    placeholder="Masukkan jumlah" />
                </div>
                <div>
                  <label for="penghasilanBruto" class="block text-sm font-medium text-gray-700 mb-1">Penghasilan
                    Bruto</label>
                  <input type="text" id="penghasilanBruto" name="penghasilanBruto" disabled
                    class="block w-full h-12 px-3 rounded-lg border-2 border-gray-300 bg-gray-100 text-gray-500 text-base cursor-not-allowed"
                    placeholder="Otomatis dihitung" />
                </div>
              </div>
            </div>

            <!-- Pengurangan -->
            <div class="border-2 border-gray-200 rounded-lg p-4 sm:p-6 space-y-4">
              <h2 class="text-lg font-semibold text-[#5a3219]">
                B. Penghitung PPh Pasal 21
              </h2>
              <div class="grid grid-cols-1 gap-4">
                <div>
                  <label for="biaya-jabatan" class="block text-sm font-medium text-gray-700 mb-1">Biaya Jabatan</label>
                  <input type="text" id="biaya-jabatan" name="biaya-jabatan" disabled
                    class="block w-full h-12 px-3 rounded-lg border-2 border-gray-300 bg-gray-100 text-gray-500 text-base cursor-not-allowed"
                    placeholder="Otomatis dihitung" />
                </div>
                <div>
                  <label for="iuran" class="block text-sm font-medium text-gray-700 mb-1">Iuran Pensiun atau Iuran
                    THT/JHT</label>
                  <input type="text" id="iuran" name="iuran"
                    class="block w-full h-12 px-3 rounded-lg border-2 border-gray-300 shadow-sm focus:border-[#5a3219] focus:ring-2 focus:ring-[#5a3219] text-base"
                    placeholder="Masukkan jumlah" />
                </div>
              </div>
            </div>

            <!-- Penghitung PPh Pasal 21 -->
            <div class="border-2 border-gray-200 rounded-lg p-4 sm:p-6 space-y-4">
              <h2 class="text-lg font-semibold text-[#5a3219]">
                C. Penghitung PPh Pasal 21
              </h2>
              <div class="grid grid-cols-1 gap-4">
                <div>
                  <label for="penghasilan-bruto-setahun"
                    class="block text-sm font-medium text-gray-700 mb-1">Penghasilan Bruto Setahun</label>
                  <input type="text" id="penghasilan-bruto-setahun" name="penghasilan-bruto-setahun" disabled
                    class="block w-full h-12 px-3 rounded-lg border-2 border-gray-300 bg-gray-100 text-gray-500 text-base cursor-not-allowed"
                    placeholder="Otomatis dihitung" />
                </div>
                <div>
                  <label for="biaya-jabatan-setahun" class="block text-sm font-medium text-gray-700 mb-1">Biaya Jabatan
                    Setahun</label>
                  <input type="text" id="biaya-jabatan-setahun" name="biaya-jabatan-setahun" disabled
                    class="block w-full h-12 px-3 rounded-lg border-2 border-gray-300 bg-gray-100 text-gray-500 text-base cursor-not-allowed"
                    placeholder="Otomatis dihitung" />
                </div>
                <div>
                  <label for="iuran-pensiun-setahun" class="block text-sm font-medium text-gray-700 mb-1">Iuran Pensiun
                    Setahun</label>
                  <input type="text" id="iuran-pensiun-setahun" name="iuran-pensiun-setahun" disabled
                    class="block w-full h-12 px-3 rounded-lg border-2 border-gray-300 bg-gray-100 text-gray-500 text-base cursor-not-allowed"
                    placeholder="Otomatis dihitung" />
                </div>
                <div>
                  <label for="jumlah-pengurang" class="block text-sm font-medium text-gray-700 mb-1">Jumlah
                    Pengurang</label>
                  <input type="text" id="jumlah-pengurang" name="jumlah-pengurang" disabled
                    class="block w-full h-12 px-3 rounded-lg border-2 border-gray-300 bg-gray-100 text-gray-500 text-base cursor-not-allowed"
                    placeholder="Otomatis dihitung" />
                </div>
                <div>
                  <label for="penghasilan-neto" class="block text-sm font-medium text-gray-700 mb-1">Penghasilan
                    Neto</label>
                  <input type="text" id="penghasilan-neto" name="penghasilan-neto" disabled
                    class="block w-full h-12 px-3 rounded-lg border-2 border-gray-300 bg-gray-100 text-gray-500 text-base cursor-not-allowed"
                    placeholder="Otomatis dihitung" />
                </div>
                <div>
                  <label for="penghasilan-neto-sebelumnya"
                    class="block text-sm font-medium text-gray-700 mb-1">Penghasilan Neto Masa Sebelumnya</label>
                  <input type="text" id="penghasilan-neto-sebelumnya" name="penghasilan-neto-sebelumnya"
                    class="block w-full h-12 px-3 rounded-lg border-2 border-gray-300 shadow-sm focus:border-[#5a3219] focus:ring-2 focus:ring-[#5a3219] text-base"
                    placeholder="" disabled />
                </div>
                <div>
                  <label for="penghasilan-neto-setahun" class="block text-sm font-medium text-gray-700 mb-1">Penghasilan
                    Neto Setahun/Disetahunkan</label>
                  <input type="text" id="penghasilan-neto-setahun" name="penghasilan-neto-setahun" disabled
                    class="block w-full h-12 px-3 rounded-lg border-2 border-gray-300 bg-gray-100 text-gray-500 text-base cursor-not-allowed"
                    placeholder="Otomatis dihitung" />
                </div>
                <div>
                  <label for="penghasilan-non-pajak" class="block text-sm font-medium text-gray-700 mb-1">Penghasilan
                    Tidak Kena Pajak</label>
                  <input type="text" id="penghasilan-non-pajak" name="penghasilan-non-pajak" disabled
                    class="block w-full h-12 px-3 rounded-lg border-2 border-gray-300 bg-gray-100 text-gray-500 text-base cursor-not-allowed"
                    placeholder="Otomatis dihitung" />
                </div>
                <div>
                  <label for="pkp-setahun" class="block text-sm font-medium text-gray-700 mb-1">PKP
                    Setahun/Disetahunkan</label>
                  <input type="text" id="pkp-setahun" name="pkp-setahun" disabled
                    class="block w-full h-12 px-3 rounded-lg border-2 border-gray-300 bg-gray-100 text-gray-500 text-base cursor-not-allowed"
                    placeholder="Otomatis dihitung" />
                </div>
                <div>
                  <div>
                    <label for="pph-atas-pkp" class="block text-sm font-medium text-gray-700 mb-1">PPh Pasal 21 atas
                      PKP</label>
                    <input type="text" id="pph-atas-pkp" name="pph-atas-pkp" disabled
                      class="block w-full h-12 px-3 rounded-lg border-2 border-gray-300 bg-gray-100 text-gray-500 text-base cursor-not-allowed"
                      placeholder="Otomatis dihitung" />
                  </div>
                  <div>
                    <label for="pph-dipotong-sebelumnya" class="block text-sm font-medium text-gray-700 mb-1">PPh Pasal
                      21 Dipotong Masa Sebelumnya</label>
                    <input type="text" id="pph-dipotong-sebelumnya" name="pph-dipotong-sebelumnya" disabled
                      class="block w-full h-12 px-3 rounded-lg border-2 border-gray-300 bg-gray-100 text-gray-500 text-base cursor-not-allowed"
                      placeholder="" />
                  </div>
                  <div>
                    <label for="pph-terutang-setahun" class="block text-sm font-medium text-gray-700 mb-1">PPh Pasal 21
                      Terutang Setahun/Disetahunkan</label>
                    <input type="text" id="pph-terutang-setahun" name="pph-terutang-setahun" disabled
                      class="block w-full h-12 px-3 rounded-lg border-2 border-gray-300 bg-gray-100 text-gray-500 text-base cursor-not-allowed"
                      placeholder="Otomatis dihitung" />
                  </div>
                  <div>
                    <label for="pph-terutang-bulanan" class="block text-sm font-medium text-gray-700 mb-1">PPh Pasal 21
                      Terutang Bulan Ini</label>
                    <input type="text" id="pph-terutang-bulanan" name="pph-terutang-bulanan" disabled
                      class="block w-full h-12 px-3 rounded-lg border-2 border-gray-300 bg-gray-100 text-gray-500 text-base cursor-not-allowed"
                      placeholder="Otomatis dihitung" />
                  </div>
                  <div>
                  </div>
                </div>

                <!-- Tombol Hitung -->
                <div class="flex justify-end">
                  <button type="button" onclick="hitung()"
                    class="bg-gradient-to-r from-[#5a3219] to-[#7f5539] text-white px-6 py-2.5 sm:py-2 rounded-lg shadow-md hover:bg-[#7f5539] focus:outline-none focus:ring-2 focus:ring-[#5a3219] text-sm sm:text-base">
                    Hitung
                  </button>
                </div>
        </form>
      </div>
    </main>

    <footer class="bg-[#5a3219] text-white py-6 hidden md:block">
      <div class="container mx-auto px-6 text-center">
        <p class="text-sm">© 2025 Teach. All rights reserved.</p>
      </div>
    </footer>

    <script>
      // Fungsi untuk memformat angka dengan koma sebagai pemisah ribuan
      function formatNumber(number) {
        return number.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
      }

      // Fungsi untuk menghapus koma dari string dan mengembalikan angka
      function parseNumber(str) {
        return parseFloat(str.replace(/,/g, '')) || 0;
      }

      // Daftar ID input penghasilan dan iuran
      const inputIds = ['gaji', 'tunjangan-pph', 'tunjangan-lain', 'honorarium', 'premi-asuransi', 'natura', 'bonus', 'iuran', 'penghasilan-neto-sebelumnya'];

      // Tambahkan event listener untuk setiap input penghasilan dan iuran
      inputIds.forEach(id => {
        const input = document.getElementById(id);
        input.addEventListener('input', function () {
          let value = this.value.replace(/[^0-9,]/g, '');
          let number = value.replace(/,/g, '');
          if (number && !isNaN(number)) {
            this.value = formatNumber(number);
          } else {
            this.value = value;
          }
        });
      });

      // Custom dropdown functionality
      document.querySelectorAll('.custom-select').forEach(select => {
        const toggle = select.querySelector('.custom-select-toggle');
        const menu = select.querySelector('.custom-select-menu');
        const items = select.querySelectorAll('.custom-select-item');
        const hiddenInput = select.querySelector('input[type="hidden"]');

        toggle.addEventListener('click', () => {
          menu.classList.toggle('open');
        });

        items.forEach(item => {
          item.addEventListener('click', () => {
            const value = item.getAttribute('data-value');
            hiddenInput.value = value;
            toggle.textContent = item.textContent;
            items.forEach(i => i.classList.remove('selected'));
            item.classList.add('selected');
            menu.classList.remove('open');
          });
        });

        document.addEventListener('click', (e) => {
          if (!select.contains(e.target)) {
            menu.classList.remove('open');
          }
        });
      });

      function hitung() {
        // Ambil nilai input
        const gaji = parseNumber(document.getElementById('gaji').value);
        const tunjanganPph = parseNumber(document.getElementById('tunjangan-pph').value);
        const tunjanganLain = parseNumber(document.getElementById('tunjangan-lain').value);
        const honorarium = parseNumber(document.getElementById('honorarium').value);
        const premiAsuransi = parseNumber(document.getElementById('premi-asuransi').value);
        const natura = parseNumber(document.getElementById('natura').value);
        const bonus = parseNumber(document.getElementById('bonus').value);
        const iuran = parseNumber(document.getElementById('iuran').value);
        const statusKawin = document.getElementById('status-kawin').value;
        const tanggungan = parseInt(document.getElementById('tanggungan').value);
        const masaPenghasilanAwal = document.getElementById('masa-penghasilan-awal').value;

        // Hitung jumlah bulan berdasarkan Masa Penghasilan Awal
        const bulanMap = {
          'Januari': 1, 'Februari': 2, 'Maret': 3, 'April': 4, 'Mei': 5, 'Juni': 6,
          'Juli': 7, 'Agustus': 8, 'September': 9, 'Oktober': 10, 'November': 11, 'Desember': 12
        };
        const bulanAwal = bulanMap[masaPenghasilanAwal];
        const jumlahBulan = 12 - bulanAwal + 1; // Dari bulan awal hingga Desember

        // Hitung Penghasilan Bruto (bulanan)
        const penghasilanBruto = gaji + tunjanganPph + tunjanganLain + honorarium + premiAsuransi + natura + bonus;
        document.getElementById('penghasilanBruto').value = formatNumber(penghasilanBruto.toFixed(0));

        // Hitung Biaya Jabatan (5% dari penghasilan bruto, maks Rp500.000/bulan)
        const biayaJabatanBulanan = Math.min(penghasilanBruto * 0.05, 500000);
        document.getElementById('biaya-jabatan').value = formatNumber(biayaJabatanBulanan.toFixed(0));

        // Hitung Penghasilan Bruto Setahun
        const penghasilanBrutoSetahun = penghasilanBruto * jumlahBulan;
        document.getElementById('penghasilan-bruto-setahun').value = formatNumber(penghasilanBrutoSetahun.toFixed(0));

        // Hitung Biaya Jabatan Setahun (maks Rp6.000.000/tahun)
        const biayaJabatanSetahun = Math.min(biayaJabatanBulanan * jumlahBulan, 6000000);
        document.getElementById('biaya-jabatan-setahun').value = formatNumber(biayaJabatanSetahun.toFixed(0));

        // Hitung Iuran Pensiun Setahun
        const iuranPensiunSetahun = iuran * jumlahBulan;
        document.getElementById('iuran-pensiun-setahun').value = formatNumber(iuranPensiunSetahun.toFixed(0));

        // Hitung Jumlah Pengurang
        const jumlahPengurang = biayaJabatanSetahun + iuranPensiunSetahun;
        document.getElementById('jumlah-pengurang').value = formatNumber(jumlahPengurang.toFixed(0));

        // Hitung Penghasilan Neto
        const penghasilanNeto = penghasilanBrutoSetahun - jumlahPengurang;
        document.getElementById('penghasilan-neto').value = formatNumber(penghasilanNeto.toFixed(0));

        // Penghasilan Neto Setahun/Disetahunkan (sama dengan Penghasilan Neto)
        const penghasilanNetoSetahun = penghasilanNeto;
        document.getElementById('penghasilan-neto-setahun').value = formatNumber(penghasilanNetoSetahun.toFixed(0));

        // Hitung Penghasilan Tidak Kena Pajak (PTKP)
        const ptkpMap = {
          'TK_0': 54000000,
          'TK_1': 58500000,
          'TK_2': 63000000,
          'TK_3': 67500000,
          'K_0': 58500000,
          'K_1': 63000000,
          'K_2': 67500000,
          'K_3': 72000000
        };
        const ptkpKey = `${statusKawin}_${tanggungan}`;
        const penghasilanNonPajak = ptkpMap[ptkpKey] || 54000000;
        document.getElementById('penghasilan-non-pajak').value = formatNumber(penghasilanNonPajak.toFixed(0));

        // Hitung PKP Setahun (Penghasilan Neto Setahun - Penghasilan Tidak Kena Pajak)
        const pkpSetahun = Math.max(penghasilanNetoSetahun - penghasilanNonPajak, 0);
        document.getElementById('pkp-setahun').value = formatNumber(pkpSetahun.toFixed(0));
      }
    </script>

    <!-- Bottom Navigation -->
    <div class="bg-white p-4 shadow-lg fixed bottom-0 w-full z-10 md:hidden">
      <div class="flex justify-around">
        <a href="/" class="text-gray-700 flex flex-col items-center focus:outline-none hover:text-[#60351d]">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
            stroke="currentColor" class="w-6 h-6">
            <path stroke-linecap="round" stroke-linejoin="round"
              d="m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" />
          </svg>
          <span class="text-sm">Home</span>
        </a>
        <a href="/kalkulator" class="text-[#60351d] flex flex-col items-center focus:outline-none">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
            stroke="currentColor" class="w-6 h-6">
            <path stroke-linecap="round" stroke-linejoin="round"
              d="M15.75 15.75V18m-7.5-6.75h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V13.5Zm0 2.25h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V18Zm2.498-6.75h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V13.5Zm0 2.25h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V18Zm2.504-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5Zm0 2.25h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V18Zm2.498-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5ZM8.25 6h7.5v2.25h-7.5V6ZM12 2.25c-1.892 0-3.758.11-5.593.322C5.307 2.7 4.5 3.65 4.5 4.757V19.5a2.25 2.25 0 0 0 2.25 2.25h10.5a2.25 2.25 0 0 0 2.25-2.25V4.757c0-1.108-.806-2.057-1.907-2.185A48.507 48.507 0 0 0 12 2.25Z" />
          </svg>
          <span class="text-sm">Kalkulator</span>
        </a>
        <a href="/info" class="text-gray-700 flex flex-col items-center focus:outline-none hover:text-[#60351d]">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5"
            stroke="currentColor" class="w-6 h-6">
            <path stroke-linecap="round" stroke-linejoin="round"
              d="m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z" />
          </svg>
          <span class="text-sm">Info</span>
        </a>
      </div>
    </div>
  </div>
</body>

</html>